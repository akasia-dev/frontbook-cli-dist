function t(){}function n(t){return t()}Promise.resolve();const e=[];function r(n,r=t){let o;const s=new Set;function i(t){if(i=t,((r=n)!=r?i==i:r!==i||r&&"object"==typeof r||"function"==typeof r)&&(n=t,o)){const t=!e.length;for(const t of s)t[1](),e.push(t,n);if(t){for(let t=0;t<e.length;t+=2)e[t][0](e[t+1]);e.length=0}}var r,i}return{set:i,update:function(t){i(t(n))},subscribe:function(e,c=t){const u=[e,c];return s.add(u),1===s.size&&(o=r(i)||t),e(n),()=>{s.delete(u),0===s.size&&(o(),o=null)}}}}function o(e,o,s){const i=!Array.isArray(e),c=i?[e]:e,u=o.length<2;return l=e=>{let r=!1;const s=[];let l=0,a=t;const f=()=>{if(l)return;a();const n=o(i?s[0]:s,e);u?e(n):a="function"==typeof n?n:t},b=c.map(((n,e)=>function(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}(n,(t=>{s[e]=t,l&=~(1<<e),r&&f()}),(()=>{l|=1<<e}))));return r=!0,f(),function(){b.forEach(n),a()}},{subscribe:r(s,l).subscribe};var l}const s=/\?\?/g,i=(t,n,e,r)=>{const o=r[0],i=o&&"object"==typeof o&&o.constructor===Object;return((t,n,e,r)=>t.map((t=>{if("string"==typeof t)return t;const{k:o="0",f:i=[]}=t,c=r[o];if((t=>!(!t.o&&!t.r))(t))return(("boolean"==typeof c?c?t.o:t.r:((t,{z:n,o:e,t:r,f:o,m:s,r:i},c)=>{switch(n&&0==c?"zero":t.select(c)){case"zero":return n;case"one":return e;case"two":return r;case"few":return o;case"many":return s;default:return i}})(n,t,c))||"").replace(s,c);const u=i.length?((t,n,e)=>n.reduce(((n,e)=>{var r,o;return null!==(o=null===(r=t[e])||void 0===r?void 0:r.call(t,n))&&void 0!==o?o:n}),e))(e,i,c):c;return(""+(null!=u?u:"")).trim()})).join(""))(t,n,e,1===r.length&&i?o:r)},c=t=>new Proxy(t?()=>t:{},{get:(n,e)=>c(t?`${t}.${e}`:e)}),u=/({?{[^\\}]+}}?)/g,l=(t,n=!0,e="",r="")=>t.split(u).filter(Boolean).map((t=>{if(!t.match(u))return t;const n=t.substring(1,t.length-1);if(n.startsWith("{")&&n.endsWith("}"))return((t,n)=>{let[e,r]=t.split(":");r||(r=e,e=n);const o=r.split("|"),[s,i,c,u,l,a]=o,f=o.filter((t=>void 0!==t)).length;return 1===f?{k:e,r:s}:2===f?{k:e,o:s,r:i}:3===f?{k:e,z:s,o:i,r:c}:{k:e,z:s,o:i,t:c,f:u,m:l,r:a}})(n.substring(1,n.length-1),r);const o=(t=>{const[n="",...e]=t.split("|"),[r="",o]=n.split(":"),[s,i]=r.split("?");return{k:s,i:o,n:""===i,f:e}})(n);return r=o.k||r,!e&&(e=r),o})).map((t=>{if("string"==typeof t)return t;t.k||(t.k=e||"0");const r=(t=>Object.fromEntries(Object.keys(t).map((n=>{var e;const r=t[n];return[n,Array.isArray(r)?r.map((t=>null==t?void 0:t.trim())):r===!!r?r:null===(e=r)||void 0===e?void 0:e.trim()]}))))(t);return n?(o=r,Object.fromEntries(Object.entries(o).map((([t,n])=>"i"!==t&&n&&"0"!=n&&[t,n])).filter(Boolean))):r;var o})),a=(t,n,e)=>{const r={},o=new Intl.PluralRules(t);return(t,...s)=>i(((t,n)=>t[n]||(t[n]=l(n)))(r,((t,n)=>{var e;return n.split(".").forEach((n=>t=t[n])),null!==(e=t)&&void 0!==e?e:n})(n,t)),o,e,s)};const f=(t,n,e={})=>new Proxy(n?t.bind(null,n):e,{get:(r,o)=>!(r===e&&"then"===o)&&f(t,n?`${n}.${o}`:o)}),b=(t="")=>{const n=r(t),e=r(!1);let s=c();const i=r(s);let u,l;const b=async t=>{if(!t||!u)return;e.set(!0);const r=await u(t);s=function(t,n,e={}){return f(a(t,n,e))}(t,r,await l(t)),i.set(s),n.set(t),e.set(!1)},p=o(n,((t,n)=>n(t))),g=o(e,((t,n)=>n(t))),y=new Proxy({},{get:(t,n)=>"subscribe"===n?i.subscribe:s[n]});return{initI18n:async(t,n,e)=>{u=n,l=e||(()=>({})),await b(t)},setLocale:b,isLoadingLocale:g,locale:p,LL:y}};export{b as getI18nSvelteStore};
//# sourceMappingURL=adapter-svelte.mjs.map
