"use strict";function t(){}function e(t){return t()}Object.defineProperty(exports,"__esModule",{value:!0}),Promise.resolve();const n=[];function r(e,r=t){let o;const s=new Set;function i(t){if(i=t,((r=e)!=r?i==i:r!==i||r&&"object"==typeof r||"function"==typeof r)&&(e=t,o)){const t=!n.length;for(const t of s)t[1](),n.push(t,e);if(t){for(let t=0;t<n.length;t+=2)n[t][0](n[t+1]);n.length=0}}var r,i}return{set:i,update:function(t){i(t(e))},subscribe:function(n,c=t){const u=[n,c];return s.add(u),1===s.size&&(o=r(i)||t),n(e),()=>{s.delete(u),0===s.size&&(o(),o=null)}}}}function o(n,o,s){const i=!Array.isArray(n),c=i?[n]:n,u=o.length<2;return l=n=>{let r=!1;const s=[];let l=0,a=t;const f=()=>{if(l)return;a();const e=o(i?s[0]:s,n);u?n(e):a="function"==typeof e?e:t},b=c.map(((e,n)=>function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(e,(t=>{s[n]=t,l&=~(1<<n),r&&f()}),(()=>{l|=1<<n}))));return r=!0,f(),function(){b.forEach(e),a()}},{subscribe:r(s,l).subscribe};var l}const s=/\?\?/g,i=(t,e,n,r)=>{const o=r[0],i=o&&"object"==typeof o&&o.constructor===Object;return((t,e,n,r)=>t.map((t=>{if("string"==typeof t)return t;const{k:o="0",f:i=[]}=t,c=r[o];if((t=>!(!t.o&&!t.r))(t))return(("boolean"==typeof c?c?t.o:t.r:((t,{z:e,o:n,t:r,f:o,m:s,r:i},c)=>{switch(e&&0==c?"zero":t.select(c)){case"zero":return e;case"one":return n;case"two":return r;case"few":return o;case"many":return s;default:return i}})(e,t,c))||"").replace(s,c);const u=i.length?((t,e,n)=>e.reduce(((e,n)=>{var r,o;return null!==(o=null===(r=t[n])||void 0===r?void 0:r.call(t,e))&&void 0!==o?o:e}),n))(n,i,c):c;return(""+(null!=u?u:"")).trim()})).join(""))(t,e,n,1===r.length&&i?o:r)},c=t=>new Proxy(t?()=>t:{},{get:(e,n)=>c(t?`${t}.${n}`:n)}),u=/({?{[^\\}]+}}?)/g,l=(t,e=!0,n="",r="")=>t.split(u).filter(Boolean).map((t=>{if(!t.match(u))return t;const e=t.substring(1,t.length-1);if(e.startsWith("{")&&e.endsWith("}"))return((t,e)=>{let[n,r]=t.split(":");r||(r=n,n=e);const o=r.split("|"),[s,i,c,u,l,a]=o,f=o.filter((t=>void 0!==t)).length;return 1===f?{k:n,r:s}:2===f?{k:n,o:s,r:i}:3===f?{k:n,z:s,o:i,r:c}:{k:n,z:s,o:i,t:c,f:u,m:l,r:a}})(e.substring(1,e.length-1),r);const o=(t=>{const[e="",...n]=t.split("|"),[r="",o]=e.split(":"),[s,i]=r.split("?");return{k:s,i:o,n:""===i,f:n}})(e);return r=o.k||r,!n&&(n=r),o})).map((t=>{if("string"==typeof t)return t;t.k||(t.k=n||"0");const r=(t=>Object.fromEntries(Object.keys(t).map((e=>{var n;const r=t[e];return[e,Array.isArray(r)?r.map((t=>null==t?void 0:t.trim())):r===!!r?r:null===(n=r)||void 0===n?void 0:n.trim()]}))))(t);return e?(o=r,Object.fromEntries(Object.entries(o).map((([t,e])=>"i"!==t&&e&&"0"!=e&&[t,e])).filter(Boolean))):r;var o})),a=(t,e,n)=>{const r={},o=new Intl.PluralRules(t);return(t,...s)=>i(((t,e)=>t[e]||(t[e]=l(e)))(r,((t,e)=>{var n;return e.split(".").forEach((e=>t=t[e])),null!==(n=t)&&void 0!==n?n:e})(e,t)),o,n,s)};const f=(t,e,n={})=>new Proxy(e?t.bind(null,e):n,{get:(r,o)=>!(r===n&&"then"===o)&&f(t,e?`${e}.${o}`:o)});exports.getI18nSvelteStore=(t="")=>{const e=r(t),n=r(!1);let s=c();const i=r(s);let u,l;const b=async t=>{if(!t||!u)return;n.set(!0);const r=await u(t);s=function(t,e,n={}){return f(a(t,e,n))}(t,r,await l(t)),i.set(s),e.set(t),n.set(!1)},p=o(e,((t,e)=>e(t))),g=o(n,((t,e)=>e(t))),d=new Proxy({},{get:(t,e)=>"subscribe"===e?i.subscribe:s[e]});return{initI18n:async(t,e,n)=>{u=e,l=n||(()=>({})),await b(t)},setLocale:b,isLoadingLocale:g,locale:p,LL:d}};
//# sourceMappingURL=adapter-svelte.cjs.map
